/*
 * filters.h
 *
 *  Created on: Mar 20, 2019
 *      Author: Claudine
 */

#ifndef FILTERS_H_
#define FILTERS_H_

/*

FIR filter designed with
http://t-filter.appspot.com

sampling frequency: 48000 Hz

* 0 Hz - 1400 Hz
  gain = 1
  desired ripple = 3 dB
  actual ripple = 0.01957151705898566 dB

* 3000 Hz - 24000 Hz
  gain = 0
  desired attenuation = -40 dB
  actual attenuation = -81.6023105003634 dB

*/
#include<F28x_Project.h>
#include <stdlib.h>
#define mask 0x3f
#define
#define LP_TAP_NUM 42
#define HP_TAP_NUM 23
extern Uint16 bufferindex;


static double lowpass_taps[LP_TAP_NUM] = {
    -0.006839789359258000,
    -0.004422361230581260,
    -0.005313594533317876,
    -0.005837626257671149,
    -0.005793749493992316,
    -0.004982662638984723,
    -0.003214819060461159,
    -0.000334148931615800,
    0.003749824274853070,
    0.009065964703267523,
    0.015580924086943164,
    0.023135913375469132,
    0.031526776234822258,
    0.040444876502862381,
    0.049531542147211255,
    0.058385243649591474,
    0.066589078020969944,
    0.073733839041622493,
    0.079454449643651920,
    0.083449188230976787,
    0.085501202079672114,
    0.085501202079672114,
    0.083449188230976787,
    0.079454449643651920,
    0.073733839041622493,
    0.066589078020969944,
    0.058385243649591474,
    0.049531542147211255,
    0.040444876502862381,
    0.031526776234822258,
    0.023135913375469132,
    0.015580924086943164,
    0.009065964703267523,
    0.003749824274853070,
    -0.000334148931615800,
    -0.003214819060461159,
    -0.004982662638984723,
    -0.005793749493992316,
    -0.005837626257671149,
    -0.005313594533317876,
    -0.004422361230581260,
    -0.006839789359258000

};

static double highpass_taps[HP_TAP_NUM] = {
    0.005902401183383979,
    0.076846394023601328,
    0.006215876034890494,
    0.003262112032669772,
    -0.011287659072466080,
    -0.030321815756076741,
    -0.052757546449996300,
    -0.076285184602404757,
    -0.098267251174581072,
    -0.116316651994173220,
    -0.128062786328539790,
    0.867789179332174590,
    -0.128062786328539790,
    -0.116316651994173220,
    -0.098267251174581072,
    -0.076285184602404757,
    -0.052757546449996300,
    -0.030321815756076741,
    -0.011287659072466080,
    0.003262112032669772,
    0.006215876034890494,
    0.076846394023601328,
    0.005902401183383979

};
int16 buffer[mask+1];
fir(double coefficients, Uint16 size );
#endif /* FILTERS_H_ */
